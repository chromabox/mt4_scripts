logmsgboxサンプル
==============================
MetaTrader4用のDLLの中で永続的なモードレスダイアログを出すサンプルです。
DLL内でインジの計算をしている場合のPrintfデバッグの代わりなどに使えます。

普通にMQL内からもログメッセージを書き込むことも出来ます。

ソースはMSVS2005でビルドしました。
最新のでもたぶん大丈夫でしょう。


使い方
==============================
インジケータのMQL内で

#import "logmsgbox.dll"
void    LogPuts(string);
#import

とかやります。

DLLがロードされるとログダイアログが開きます。

LogPuts(なにか) を使うことによってMQL内からでもログダイアログに
メッセージを残すことができます。


sample\cbx_logmsgbox.mq4
---------
使い方のサンプルです。
インジケータを読み込ませると自動的にダイアログが表示されます。
で、現在のプライスをログウィンドウに残していきます。

src\
---------
DLLソースです。
この中の[logmsgdlg]クラスが肝となります。
自作DLLに表示させる際はこのクラスとrc定義をそのまま持ってくると良い感じです。


メモ
==============================
* 一度ダイアログを消してしまうと、再度DLLがロードされるまで表示されませんのでご注意。
* DLLの読み込みは重複しないようです。最後にDLLを使ったインジ等が削除されて初めてDLLがアンロードされます。
* つまりこれは複数のインジケータやスクリプトで読み込まれた場合、DLLのグローバルな変数は共有されるということです。
* DLLはリリースビルドでないと、再配布可能なMSVCのデバッグ版のライブラリがWindowsに無いとロードエラーになります。
* Win32のMessageBox()関数はDLL内で特になにもしなくても普通に使えます。何か聞くときはこれを使うと無難でしょう。


注意事項
==============================
* 本スクリプト、およびデータについて、その情報源の確実性を保証したものではありません。本スクリプト類を利用することで被った被害について、配布元は一切の責任を負いません。万一、内容に誤りがあった場合でも、配布元は一切責任を負わないものとします。
* MITライセンスですが、商業利用、及びサイトに転載される場合はご連絡お願いします。


